# JSONç”Ÿæˆå·¥å…·

ä¸€ä¸ªçµæ´»çš„JSONæ•°æ®æ‰¹é‡ç”Ÿæˆå·¥å…·ï¼Œæ—¢å¯ä»¥æœ¬åœ°ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºReactç»„ä»¶åµŒå…¥åˆ°å…¶ä»–é¡¹ç›®ä¸­ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **ä¸šåŠ¡æ•°æ®ç”Ÿæˆå™¨**: ä¸“ä¸ºç”Ÿäº§ç¯å¢ƒè®¾è®¡çš„æ‰¹é‡æ•°æ®å½•å…¥å·¥å…·ï¼Œæ”¯æŒè®¾å¤‡ã€ç”¨æˆ·ã€äº§å“ç­‰ä¸šåŠ¡åœºæ™¯
- **çµæ´»çš„æ¨¡æ¿ç³»ç»Ÿ**: æ”¯æŒå¤æ‚çš„JSONæ¨¡æ¿å®šä¹‰ï¼ŒåŒ…å«å ä½ç¬¦å’Œå‡½æ•°è°ƒç”¨
- **ä¸°å¯Œçš„å†…ç½®å‡½æ•°**: éšæœºå­—ç¬¦ä¸²ã€æ•°å­—ã€æ—¥æœŸã€UUIDç­‰æ•°æ®ç”Ÿæˆå‡½æ•°
- **å¯è§†åŒ–ç¼–è¾‘å™¨**: æ— éœ€ç¼–å†™ä»£ç çš„å¯è§†åŒ–è§„åˆ™æ„å»ºå™¨
- **å¤šç§ç”Ÿæˆç­–ç•¥**: æ”¯æŒå•ä¸€ç”Ÿæˆã€æ‰¹é‡ç”Ÿæˆã€äº¤å‰ç”Ÿæˆç­‰å¤šç§æ•°æ®ç”Ÿæˆç­–ç•¥
- **æ‰¹é‡ç”Ÿæˆ**: é«˜æ€§èƒ½æ‰¹é‡æ•°æ®ç”Ÿæˆï¼Œæ”¯æŒå¤§æ•°æ®é‡å¤„ç†

### ğŸ“Š é¢„è§ˆä¸å¯¼å‡º
- **å®æ—¶é¢„è§ˆ**: è¡¨æ ¼è§†å›¾å’ŒJSONè§†å›¾åˆ‡æ¢
- **å¤šæ ¼å¼å¯¼å‡º**: JSONã€JSONLã€CSVæ ¼å¼å¯¼å‡º
- **æ–‡ä»¶åˆ†å‰²**: å¤§æ–‡ä»¶è‡ªåŠ¨åˆ†å‰²å¯¼å‡º
- **ç»Ÿè®¡ä¿¡æ¯**: æ•°æ®ç»Ÿè®¡å’Œå­—æ®µåˆ†æ

### ğŸ”§ ä½¿ç”¨æ–¹å¼
- **ç‹¬ç«‹åº”ç”¨**: å¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨
- **Reactç»„ä»¶**: å¯åµŒå…¥åˆ°å…¶ä»–Reacté¡¹ç›®ä¸­
- **NPMåŒ…**: æ”¯æŒä½œä¸ºä¾èµ–åº“ä½¿ç”¨

## ä¸šåŠ¡æ•°æ®ç”Ÿæˆå™¨

### ğŸ¯ ä¸“ä¸ºç”Ÿäº§ç¯å¢ƒè®¾è®¡

ä¸šåŠ¡æ•°æ®ç”Ÿæˆå™¨æ˜¯ä¸“é—¨ä¸ºç”Ÿäº§ç¯å¢ƒæ‰¹é‡æ•°æ®å½•å…¥è€Œè®¾è®¡çš„å·¥å…·ï¼Œç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š

- **è®¾å¤‡æ‰¹é‡å½•å…¥**: æ‰¹é‡å½•å…¥ä¼ æ„Ÿå™¨ã€è®¾å¤‡ç­‰ç¡¬ä»¶ä¿¡æ¯
- **ç”¨æˆ·æ‰¹é‡å½•å…¥**: æ‰¹é‡å½•å…¥å‘˜å·¥ã€å®¢æˆ·ç­‰äººå‘˜ä¿¡æ¯  
- **äº§å“æ‰¹é‡å½•å…¥**: æ‰¹é‡å½•å…¥å•†å“ã€ç‰©æ–™ç­‰äº§å“ä¿¡æ¯
- **ä¸šåŠ¡æ•°æ®è¿ç§»**: ç³»ç»Ÿè¿ç§»æ—¶çš„æ•°æ®æ‰¹é‡ç”Ÿæˆ

### ğŸš€ ä¸»è¦ç‰¹ç‚¹

- **é¢„è®¾ä¸šåŠ¡æ¨¡æ¿**: æä¾›è®¾å¤‡ã€ç”¨æˆ·ã€äº§å“ç­‰å¸¸ç”¨ä¸šåŠ¡æ¨¡æ¿
- **å¤šç§ç”Ÿæˆç­–ç•¥**: æ”¯æŒå•ä¸€ç”Ÿæˆã€æ‰¹é‡ç”Ÿæˆã€äº¤å‰ç”Ÿæˆ
- **å¯è§†åŒ–é…ç½®**: æ— éœ€ç¼–å†™ä»£ç ï¼Œé€šè¿‡ç•Œé¢é…ç½®å³å¯
- **å®æ—¶é¢„è§ˆ**: é…ç½®å®Œæˆåå¯ç«‹å³é¢„è§ˆç”Ÿæˆæ•ˆæœ
- **çµæ´»å­—æ®µç±»å‹**: æ”¯æŒå›ºå®šå€¼ã€åºåˆ—é€’å¢ã€åˆ†ç±»é€‰æ‹©ã€èŒƒå›´å€¼ã€æ¨¡æ¿å­—ç¬¦ä¸²ç­‰

### ğŸ“‹ ä½¿ç”¨æµç¨‹

1. **é€‰æ‹©ä¸šåŠ¡æ¨¡æ¿**: ä»é¢„è®¾æ¨¡æ¿ä¸­é€‰æ‹©æˆ–è‡ªå®šä¹‰
2. **é…ç½®å­—æ®µè§„åˆ™**: ä¸ºæ¯ä¸ªå­—æ®µè®¾ç½®ç”Ÿæˆè§„åˆ™
3. **é€‰æ‹©ç”Ÿæˆç­–ç•¥**: æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç”Ÿæˆç­–ç•¥
4. **é¢„è§ˆå¹¶ç”Ÿæˆ**: é¢„è§ˆæ•°æ®æ ·ä¾‹ï¼Œç¡®è®¤åç”Ÿæˆå®Œæ•´æ•°æ®

è¯¦ç»†ä½¿ç”¨æŒ‡å—è¯·å‚è€ƒï¼š[ä¸šåŠ¡æ•°æ®ç”Ÿæˆå™¨ä½¿ç”¨æŒ‡å—](./docs/business-generator-guide.md)

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æ„å»ºç»„ä»¶åº“
npm run build:lib
```

### ä½œä¸ºç»„ä»¶ä½¿ç”¨

```bash
npm install json-generator-tool
```

```tsx
import React from 'react'
import { JsonGeneratorComponent } from 'json-generator-tool'
import 'json-generator-tool/dist/style.css'

function App() {
  const handleGenerate = (result) => {
    console.log('ç”Ÿæˆå®Œæˆ:', result)
  }

  const handleExport = (data, options) => {
    console.log('å¯¼å‡ºæ•°æ®:', data.length, options)
  }

  return (
    <JsonGeneratorComponent
      onGenerate={handleGenerate}
      onExport={handleExport}
      config={{
        batchSize: 1000,
        enableValidation: true
      }}
    />
  )
}
```

### ä½¿ç”¨æ ¸å¿ƒAPI

```tsx
import { createJsonGenerator, createSampleRule } from 'json-generator-tool'

// åˆ›å»ºç”Ÿæˆå™¨
const generator = createJsonGenerator({
  batchSize: 1000,
  enableValidation: true
})

// å®šä¹‰ç”Ÿæˆè§„åˆ™
const rule = {
  id: 'user-data',
  name: 'ç”¨æˆ·æ•°æ®ç”Ÿæˆ',
  template: {
    id: '{{uuid()}}',
    name: '{{randomChoice(["å¼ ä¸‰", "æå››", "ç‹äº”"])}}',
    age: '{{randomInt(18, 65)}}',
    email: '{{randomString(8)}}@example.com',
    createdAt: '{{randomDate()}}'
  },
  count: 100
}

// ç”Ÿæˆæ•°æ®
generator.generate(rule).then(result => {
  console.log('ç”Ÿæˆçš„æ•°æ®:', result.data)
})
```

## æ¨¡æ¿è¯­æ³•

### åŸºæœ¬è¯­æ³•

```json
{
  "id": "{{uuid()}}",
  "name": "{{randomChoice([\"å¼ ä¸‰\", \"æå››\", \"ç‹äº”\"])}}",
  "age": "{{randomInt(18, 65)}}",
  "email": "{{randomString(8)}}@example.com"
}
```

### å†…ç½®å‡½æ•°

| å‡½æ•°å | æè¿° | å‚æ•° | ç¤ºä¾‹ |
|--------|------|------|------|
| `uuid()` | ç”ŸæˆUUID | æ—  | `{{uuid()}}` |
| `randomString(length, charset?)` | éšæœºå­—ç¬¦ä¸² | é•¿åº¦, å­—ç¬¦é›† | `{{randomString(10)}}` |
| `randomInt(min, max)` | éšæœºæ•´æ•° | æœ€å°å€¼, æœ€å¤§å€¼ | `{{randomInt(1, 100)}}` |
| `randomFloat(min, max, decimals?)` | éšæœºæµ®ç‚¹æ•° | æœ€å°å€¼, æœ€å¤§å€¼, å°æ•°ä½ | `{{randomFloat(0, 1, 2)}}` |
| `randomChoice(array)` | éšæœºé€‰æ‹© | é€‰é¡¹æ•°ç»„ | `{{randomChoice(["A", "B", "C"])}}` |
| `randomDate(start?, end?, format?)` | éšæœºæ—¥æœŸ | å¼€å§‹æ—¥æœŸ, ç»“æŸæ—¥æœŸ, æ ¼å¼ | `{{randomDate()}}` |
| `sequence(start?, step?, prefix?, suffix?)` | åºåˆ—å· | èµ·å§‹å€¼, æ­¥é•¿, å‰ç¼€, åç¼€ | `{{sequence(1, 1, "ID", "")}}` |

### æ¡ä»¶æ¸²æŸ“

```json
{
  "#if": {
    "condition": "{{randomChoice([true, false])}}",
    "then": {
      "status": "active",
      "lastLogin": "{{randomDate()}}"
    },
    "else": {
      "status": "inactive"
    }
  }
}
```

### å¾ªç¯ç”Ÿæˆ

```json
{
  "tags": {
    "#repeat": 3,
    "template": "{{randomChoice([\"tag1\", \"tag2\", \"tag3\"])}}"
  }
}
```

### å˜é‡å¼•ç”¨

```json
{
  "name": "{{randomChoice([\"å¼ ä¸‰\", \"æå››\"])}}",
  "greeting": "ä½ å¥½ï¼Œ{{name}}ï¼",
  "profile": {
    "displayName": "{{name}}",
    "avatar": "https://example.com/avatar/{{$index}}.jpg"
  }
}
```

## æ•°æ®æºé…ç½®

### JSONæ•°æ®æº

```json
{
  "dataSource": {
    "type": "json",
    "config": {
      "data": [
        {"city": "åŒ—äº¬", "code": "010"},
        {"city": "ä¸Šæµ·", "code": "021"}
      ]
    }
  }
}
```

### APIæ•°æ®æº

```json
{
  "dataSource": {
    "type": "api",
    "config": {
      "url": "https://api.example.com/cities",
      "headers": {
        "Authorization": "Bearer token"
      }
    }
  }
}
```

## APIæ–‡æ¡£

### JsonGenerator

```typescript
class JsonGenerator {
  constructor(config?: GeneratorConfig)
  generate(rule: GenerationRule): Promise<GenerationResult>
  updateConfig(config: Partial<GeneratorConfig>): void
  getConfig(): GeneratorConfig
}
```

### ç±»å‹å®šä¹‰

```typescript
interface GenerationRule {
  id: string
  name: string
  description?: string
  template: JsonTemplate
  dataSource?: DataSource
  count: number
  conditions?: Condition[]
}

interface GeneratorConfig {
  batchSize?: number
  enableValidation?: boolean
  outputFormat?: 'json' | 'jsonl'
  prettify?: boolean
}
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ core/                 # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ JsonGenerator.ts  # ä¸»ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ RuleEngine.ts     # è§„åˆ™å¼•æ“
â”‚   â””â”€â”€ TemplateParser.ts # æ¨¡æ¿è§£æå™¨
â”œâ”€â”€ components/           # Reactç»„ä»¶
â”‚   â”œâ”€â”€ JsonGeneratorComponent.tsx
â”‚   â”œâ”€â”€ RuleEditor.tsx
â”‚   â”œâ”€â”€ JsonPreview.tsx
â”‚   â””â”€â”€ ExportPanel.tsx
â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â””â”€â”€ App.tsx              # ç‹¬ç«‹åº”ç”¨å…¥å£
```

## å¼€å‘æŒ‡å—

### æ·»åŠ è‡ªå®šä¹‰å‡½æ•°

```typescript
import { RuleEngine } from 'json-generator-tool'

const ruleEngine = new RuleEngine()

// æ³¨å†Œè‡ªå®šä¹‰å‡½æ•°
ruleEngine.registerFunction({
  name: 'customFunction',
  description: 'è‡ªå®šä¹‰å‡½æ•°',
  params: [
    { name: 'param1', type: 'string', required: true }
  ],
  execute: (param1: string) => {
    return `custom-${param1}`
  }
})
```

### è‡ªå®šä¹‰éªŒè¯

```typescript
import { validateJsonSchema } from 'json-generator-tool'

const schema = {
  type: 'object',
  properties: {
    id: { type: 'string' },
    name: { type: 'string' }
  },
  required: ['id', 'name']
}

const result = validateJsonSchema(data, schema)
if (!result.isValid) {
  console.error('éªŒè¯å¤±è´¥:', result.errors)
}
```

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºæœ¬çš„JSONç”ŸæˆåŠŸèƒ½
- æä¾›Reactç»„ä»¶å’Œæ ¸å¿ƒAPI
- æ”¯æŒå¤šç§å¯¼å‡ºæ ¼å¼